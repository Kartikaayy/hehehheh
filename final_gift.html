<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Grand Finale: A Message for My Love</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

    <style>
        body {
            /* Background image: background2.jpg (Your new background) */
            background-image: url('background2.jpg');
            background-size: cover;
            background-position: center top;
            background-attachment: fixed;
            font-family: 'Poppins', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 1rem;
            color: #fce7f3;
            overflow: hidden;
            /* Prevent scrollbar due to floating elements */
        }

        /* --- HEART ANIMATION CSS START --- */
        .floating-heart {
            position: fixed;
            color: #ffc0cb;
            /* Light pink color */
            text-shadow: 0 0 8px #ff69b4, 0 0 15px rgba(255, 105, 180, 0.5);
            font-size: 1.5rem;
            animation: heartFloat 15s infinite ease-in-out;
            pointer-events: none;
            opacity: 0;
            z-index: 10;
            will-change: transform, opacity;
            backface-visibility: hidden;
            transform: translateZ(0);
        }

        @keyframes heartFloat {
            0% {
                transform: translateY(0vh) translateX(0) scale(1) rotate(0deg) translateZ(0);
                opacity: 0;
            }

            15% {
                opacity: 0.8;
            }

            85% {
                opacity: 0.6;
            }

            100% {
                transform: translateY(-110vh) translateX(var(--float-x)) scale(1.2) rotate(var(--rotate-deg)) translateZ(0);
                opacity: 0;
            }
        }

        /* --- HEART ANIMATION CSS END --- */


        #gift-container {
            position: relative;
            z-index: 20;
            /* Keep gift box above floating hearts */
            cursor: pointer;
            transition: transform 0.3s ease-in-out;
            will-change: transform;
        }

        #gift-container:hover {
            transform: scale(1.05);
        }

        /* Initial Gift Box Icon */
        #gift-icon {
            font-size: 10rem;
            animation: bounce-smooth 2s infinite ease-in-out;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
        }

        /* Message Card Styles */
        #message-card {
            max-height: 90vh;
            overflow-y: auto;
            /* Dark semi-transparent background for readability */
            background-color: rgba(30, 0, 50, 0.85);
            border: 4px solid #d8b4fe;
            /* Purple border matching background */
            font-family: 'Poppins', sans-serif;
            white-space: pre-wrap;
            z-index: 20;
            /* Keep message above floating hearts */
        }

        /* Style for the Voice Note button */
        .voice-note-player {
            background-color: #be185d;
            /* A deep pink/rose color */
            transition: background-color 0.3s;
        }

        .voice-note-player:hover {
            background-color: #9d174d;
        }

        /* Style for the Final Button */
        #final-picture-button {
            background-color: #fcd34d;
            /* Bright yellow */
            color: #9d174d;
            /* Deep pink text */
            font-size: 1.25rem;
            font-weight: 700;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
            animation: pulse-shadow 1.5s infinite;
        }

        @keyframes pulse-shadow {

            0%,
            100% {
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4), 0 0 0 0 rgba(252, 211, 77, 0.7);
            }

            50% {
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4), 0 0 0 10px rgba(252, 211, 77, 0);
            }
        }


        @keyframes bounce-smooth {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-15px);
            }
        }

        /* Message Fade-in Animation */
        .fade-in {
            animation: fadeIn 1.5s ease-out forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>

    <audio id="finalSong" loop autoplay>
        <source src="song.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <audio id="sunoVN" src="sunona.mp3"></audio>

    <div class="max-w-4xl w-full p-4 flex flex-col items-center justify-center">

        <div id="gift-container" onclick="revealMessage()">
            <div id="gift-icon">ğŸ</div>
            <p id="tap-hint" class="text-xl mt-4 text-white/90 animate-pulse">Tap the box to open your message...</p>
        </div>

        <div id="message-card" class="hidden p-8 rounded-xl shadow-2xl fade-in">
            <h2 class="text-3xl sm:text-4xl font-extrabold text-yellow-300 mb-6 border-b pb-3 border-yellow-300/50">
                Dear Rani ji ğŸ«¶ğŸ»
            </h2>

            <p class="text-lg leading-relaxed text-pink-100 whitespace-pre-wrap">
                Toh umeed krta hoon aapko yeah chota sa gift accha laga hoga ğŸ¥¹â™¥ï¸ as main abhi is condition main nhi
                hoon ki aapko kuch bohut accha de payu toh bus yeah chota sa gift hai ğŸ¥ºâ™¥ï¸ chodo yeah sabh
                First let me call you by your all names. my sweetheart ğŸ˜˜ my rasgulla ğŸ¥¹ my baccha ğŸ¤­ my kuchupuchupu ğŸ’‹
                my Shona ğŸ¤­ my baby ğŸ«¶ğŸ» meri jaaan ğŸ¥¹ mera dil ka tukda â¤ï¸ my wifey ji ğŸ¤­ my rani ji ğŸ¤­ meri bebo ji ğŸ¤­
                my heartbeat ğŸ’“ my sunshine ğŸ¥¹ mera gajar ka halwa ğŸ¤­ meri kammo rani ğŸ’• meri dard or khushi ki dawah ğŸ’—
                meri subah meri sham ğŸ¥¹ my everything ğŸ˜© my darlingggg ğŸ¤§ toh chand ko agar kareeb se dekhne jao toh woh
                aapke jesa hi dikhega ğŸ¤­ tbhi main sochu ki aapko itti nazar kese lagti hai ğŸ¥¹â™¥ï¸ ab khubsurat itti ho ki
                nazar lagna toh obviously hai na ji ğŸ¥¹â™¥ï¸
                I know is baar main aapko pehle ki tarah wish present and all nhi kr pauga ğŸ¥º us ke liye main aapse
                bohut sorry hoon ji ğŸ¥º but I hope so aapko yeah sabh bhi bohut pasand aye ğŸ¥¹ğŸ¤­
                So
                As the year starts to wind down, i realize more than ever how much you mean to me aap meri zindagi ki
                woh haseen tasveer ho jar har din aur khubsurat hoti ja rhi hai ğŸ¥¹â¤ï¸every moment spent with you feels
                like a piece of heaven where everything else fades away and it's just us aapki muskan meri sabse badi
                khushi hai ğŸ¥¹â¤ï¸aur apki baate meri zindagi ka sukoon apke sath har ek pal yaad banke rhe jata hai jo
                main humhesa apne dil main sajha kr rakhta hoon â¤ï¸ğŸ’•
                With you i have learned what true love is...apne pyaar ka asli mtlb smjhaya,apne jeeene ka tareeka
                sikhaya apne dukh main bhi khush rhena sikhaya apke ane se pyaar krne ka asli mtlb smj aya you know what
                my love for you has no beginning and no end it is endless i is ever flowing like the oceans it is as
                boundless as the sky and as vast as the universe ğŸ¥¹â¤ï¸ tere age toh mera male ego bhi kuch kaam nhi....if
                you say so , I will kiss on your feet in front of this whole world ğŸ¥¹â¤ï¸ I have no male ego for you my
                sweetipieeeeee â¤ï¸â¤ï¸

                <span class="block mt-6 pt-4 border-t border-pink-300/30 font-bold italic text-yellow-300">
                    So isko end krte hai hunhesa ki tarah ek shayari ke sath ğŸ¥¹ğŸ¤­
                </span>


                Main kheta hoon tum chai jesa pyaar krke dekho ....main usme biscuit banke doobne ke liye tyaar
                hoon....ğŸ¥¹ğŸ˜©ğŸ˜­
                Arz kiya hai...
                Log roop dekhte hai hum dil dekhte haiÂ 
                Log sapne dekhte hai or hum tumhe dekhte haiÂ 
                Bus fark itna hai log puri duniya dekhte haiÂ 
                Aur hum puri duniye main tumhe dekhte hai ğŸ’‹ğŸ¤­

                <span class="block mt-4 text-3xl font-extrabold text-pink-400">
                    Love you mera chand ğŸ¤­ â¤ï¸
                </span>

                <span class="block mt-6 text-sm text-gray-400">
                    29-12-2025
                </span>

                <button onclick="playVoiceNote()"
                    class="voice-note-player flex items-center justify-center mt-6 w-full p-3 rounded-xl text-white font-semibold shadow-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132c.205-.136.315-.386.315-.65V11.82c0-.264-.11-.514-.315-.65z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    kuch sun na chahoge ?
                </button>

                <a href="./Beginning_Day/Beginning_.html" id="final-picture-button"
                    class="inline-block mt-4 w-full p-4 rounded-xl text-center shadow-lg hover:bg-yellow-400 transition duration-300">
                    Abhi picture baki hai meri jaan ğŸ¬
                </a>
            </p>
        </div>
    </div>

    <script>
        // --- Heart Configuration ---
        const HEART_COUNT = 35; // Number of floating hearts
        const HEART_CHARACTERS = ['â¤ï¸', 'ğŸ’–', 'âœ¨', 'ğŸŒ¸', 'ğŸ’•', 'ğŸ’—', 'â­', 'ğŸ’‹'];


        const giftContainer = document.getElementById('gift-container');
        const messageCard = document.getElementById('message-card');
        const finalSong = document.getElementById('finalSong');
        const sunoVN = document.getElementById('sunoVN'); // Reference to the voice note audio

        // --- Heart Animation Logic ---
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('floating-heart');

            // Randomly select a heart character
            const charIndex = Math.floor(Math.random() * HEART_CHARACTERS.length);
            heart.innerHTML = HEART_CHARACTERS[charIndex];

            // Random horizontal start position (0% to 100% width)
            const startX = Math.random() * 100;
            heart.style.left = `${startX}vw`;

            // Random horizontal drift destination
            const driftX = (Math.random() - 0.5) * 40;
            heart.style.setProperty('--float-x', `${driftX}vw`);

            // Random rotation
            const rotation = Math.random() * 180;
            heart.style.setProperty('--rotate-deg', `${rotation}deg`);

            // Random initial delay and duration
            const delay = Math.random() * 15;
            const duration = 12 + Math.random() * 6;

            heart.style.animationDelay = `${delay}s`;
            heart.style.animationDuration = `${duration}s`;

            // Random size variation
            const size = 1.2 + Math.random() * 0.6;
            heart.style.fontSize = `${size}rem`;

            // Set initial position at the bottom of the screen
            heart.style.bottom = `-10vh`;

            document.body.appendChild(heart);
        }

        // **********************************************
        // Generate hearts
        for (let i = 0; i < HEART_COUNT; i++) {
            createHeart();
        }

        // --- Main Logic ---

        // Attempt to play background music immediately.
        finalSong.volume = 0.6; // Set a good volume level
        finalSong.play().catch(e => {
            console.log("Music autoplay blocked, will start on user interaction (box tap).", e);
        });

        function revealMessage() {
            // 1. Ensure background music is playing (handles browser restrictions)
            finalSong.play().catch(e => console.log("Music play failed on tap.", e));

            // 2. Hide the gift box and hint
            giftContainer.classList.add('hidden');

            // 3. Show the message card with fade-in effect
            messageCard.classList.remove('hidden');
        }

        function playVoiceNote() {
            // Stop the background music briefly to highlight the voice note
            finalSong.pause();

            sunoVN.play().then(() => {
                // When the voice note finishes, resume the background music
                sunoVN.onended = () => {
                    finalSong.play().catch(e => console.log("Failed to resume finalSong:", e));
                };
            }).catch(e => {
                console.log("Voice note play failed (interaction required):", e);
                // If the VN fails to play (e.g., first tap on mobile), just resume BGM
                finalSong.play().catch(e => console.log("Failed to resume finalSong:", e));
                alert("Please tap again to play the voice note!");
            });
        }
    </script>

</body>

</html>